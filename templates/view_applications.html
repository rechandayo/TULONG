<!doctype html>
<html lang="en">
<head>
    <title>Job Application Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Job Application Tracker</h1>
    <div>
        <a href="{{ url_for('add_application') }}">Add New Application</a>
        <a href="{{ url_for('view_applications', filter_type='salary') }}">Sort by Salary</a>
        <a href="{{ url_for('view_applications', filter_type='date') }}">Sort by Date Applied</a>
        <a href="{{ url_for('view_applications', filter_type='stage') }}">Sort by Stage</a>
        <a href="{{ url_for('view_applications', filter_type='priority') }}">High Priority</a>
        <a href="{{ url_for('view_applications', filter_type='deadline') }}">Upcoming Deadlines</a>
        <a href="{{ url_for('search') }}">Search by Role Type</a>
    </div>
    <h2>All Applications</h2>
    <table>
        <tr>
            <th>Title</th>
            <th>Company</th>
            <th>Stage</th>
            <th>Salary</th>
            <th>Date Applied</th>
            <th>Actions</th>
        </tr>
        {% for app in applications %}
        <tr>
            <td>{{ app['title'] }}</td>
            <td>{{ app['company'] }}</td>
            <td>{{ app['stage'] }}</td>
            <td>{{ app['salary'] }}</td>
            <td>{{ app['date_applied'] }}</td>
            <td>
                <form action="{{ url_for('delete_application', id=app['id']) }}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this application?');">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>